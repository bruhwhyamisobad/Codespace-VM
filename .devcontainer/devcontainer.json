{
  "name": "Webtop Ubuntu KDE",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu-22.04",
  "remoteUser": "vscode",
  "features": {
    "docker-in-docker": "latest"
  },
  "mounts": [
    "source=${localWorkspaceFolder}/webtop-config,target=/config,type=bind"
  ],
  "postStartCommand": "bash ${localWorkspaceFolder}/.devcontainer/start-webtop.sh",
  "forwardPorts": [3000, 3001],
  "portsAttributes": {
    "3000": { "label": "Webtop HTTP", "onAutoForward": "openBrowser" },
    "3001": { "label": "Webtop HTTPS", "onAutoForward": "openBrowser" }
  },
  "runArgs": [
    "--init",
    "-e", "WEBTOP_USER=${WEBTOP_USER}",
    "-e", "WEBTOP_PASSWORD=${WEBTOP_PASSWORD}"
  ]
}

{
  "name": "Webtop Ubuntu KDE",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu-22.04",
  "remoteUser": "vscode",
  "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {}
  },
  "mounts": [
    "source=${localWorkspaceFolder}/webtop-config,target=${containerWorkspaceFolder}/webtop-config,type=bind"
  ],
  "postStartCommand": "bash -lc 'mkdir -p \"${containerWorkspaceFolder}/webtop-config\" && chmod +x \"${containerWorkspaceFolder}/.devcontainer/start-webtop.sh\" && \"${containerWorkspaceFolder}/.devcontainer/start-webtop.sh\"'",
  "containerEnv": {
    "DEBIAN_FRONTEND": "noninteractive",
    "TZ": "America/Los_Angeles",
    "WEBTOP_IMAGE": "lscr.io/linuxserver/webtop:ubuntu-kde",
    "WEBTOP_MEM_LIMIT": "6g",
    "WEBTOP_CPU_LIMIT": "1.8",
    "WEBTOP_SHM_SIZE": "1gb"
  },
  "forwardPorts": [3000, 3001],
  "portsAttributes": {
    "3000": {
      "label": "Webtop HTTP",
      "onAutoForward": "openBrowser"
    },
    "3001": {
      "label": "Webtop HTTPS",
      "onAutoForward": "openPreview"
    }
  }
}